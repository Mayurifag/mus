---
description:
globs:
alwaysApply: true
---
# Makefile Standards

## Overview
This document defines the standards and guidelines for Makefile usage and automation in the mus project.

## AI Agent Capabilities
- AI agent can execute any make command directly
- AI agent can run make targets without user intervention
- AI agent can chain multiple make commands
- AI agent can handle make command output and errors
- AI agent can suggest and execute appropriate make commands

## General Rules
- Keep Makefile targets simple and focused
- Use .PHONY for all targets
- Include help text for all targets
- Use consistent naming conventions
- Keep targets in appropriate .mk files

## Dependency Management
- Use uv for package management
- Keep requirements.txt as lock file
- Update dependencies regularly
- Document dependency changes
- Test after dependency updates

## Build Process
- Use Docker for builds
- Keep build process reproducible
- Cache dependencies appropriately
- Minimize build time
- Handle build errors gracefully

## Testing Standards
- Run tests before commits
- Include test coverage targets
- Support different test environments
- Document test requirements
- Keep test commands consistent

## Development Workflow
- Support development workflow
- Include development-specific targets
- Document development setup
- Support different environments
- Keep development tools up to date

## Deployment Process
- Support different deployment targets
- Include deployment-specific targets
- Document deployment process
- Handle deployment errors
- Support rollback if needed
