{
  "hooks": {
    "PreToolUse": [
      {
        "matcher": "Bash",
        "hooks": [
          {
            "type": "command",
            "command": "jq -r '.tool_input.command // empty' | grep -qE '\\b(rm -rf|sudo|chmod 777|>\\s*/dev/s)' && echo 'Warning: Potentially dangerous command detected' >&2 && exit 0 || exit 0"
          }
        ]
      },
      {
        "matcher": "Write|Edit|MultiEdit",
        "hooks": [
          {
            "type": "command",
            "command": "jq -r '.tool_input.file_path // empty' | grep -qE '\\.(env|secrets?|key|pem|crt)$|/\\.(ssh|aws|config)/|node_modules/|dist/|build/' && echo 'Warning: Modifying sensitive or generated file' >&2 && exit 0 || exit 0"
          }
        ]
      }
    ],
    "SessionStart": [
      {
        "hooks": [
          {
            "type": "command",
            "command": "echo \"Session started at $(date). Working directory: $(pwd)\""
          }
        ]
      }
    ]
  }
}
